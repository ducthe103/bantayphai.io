var DBTech=window.DBTech||{};DBTech.Credits=window.DBTech.Credits||{};
!function(b,e,d,f){DBTech.Credits.EditorDialogCharge=XF.extend(XF.EditorDialog,{_beforeShow:function(a){b("#editor_dbtech_credits_charge_title").val("")},_init:function(a){b("#editor_dbtech_credits_charge_form").submit(XF.proxy(this,"submit"))},submit:function(a){a.preventDefault();a=this.ed;var c=this.overlay;a.selection.restore();DBTech.Credits.EditorHelpers.insertCharge(a,b("#editor_dbtech_credits_charge_title").val());c.hide()}});DBTech.Credits.editorStart={started:!1,custom:[],startAll:function(){DBTech.Credits.editorStart.started||
(DBTech.Credits.editorStart.registerCommands(),DBTech.Credits.editorStart.registerDialogs(),DBTech.Credits.editorStart.started=!0)},registerCommands:function(){try{var a=b.parseJSON(b(".js-editorCustom").first().html())||{}}catch(c){console.error(c),a={}}"undefined"!==typeof a.charge&&b.FE.RegisterCommand("xfCustom_charge",{title:a.charge.title,icon:"xfCustom_charge",undo:!0,focus:!0,callback:function(){XF.EditorHelpers.loadDialog(this,"dbtechCreditsCharge")}})},registerDialogs:function(){XF.EditorHelpers.dialogs.dbtechCreditsCharge=
new DBTech.Credits.EditorDialogCharge("dbtechCreditsCharge")}};DBTech.Credits.EditorHelpers={insertCharge:function(a,b){XF.EditorHelpers.wrapSelectionText(a,b?"[CHARGE="+b+"]":"[CHARGE]","[/CHARGE]",!0)}};b(d).one("editor:start",DBTech.Credits.editorStart.startAll)}(jQuery,window,document);